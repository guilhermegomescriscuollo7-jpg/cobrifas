<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro | COBRIFAS</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@500&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body { background: #050505; color: #fff; font-family: 'Rajdhani'; display: flex; align-items: center; justify-content: center; height: 100vh; }
        .card { background: #0f0f0f; padding: 40px; border-radius: 8px; border-bottom: 4px solid #ffcc00; width: 400px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #333; color: #fff; }
        button { width: 100%; padding: 15px; background: #ffcc00; border: none; font-family: 'Orbitron'; cursor: pointer; }
    </style>
</head>
<body>
    <div class="card">
        <h1 style="font-family:Orbitron; text-align:center;">CADASTRO</h1>
        <input type="text" id="nome" placeholder="Nome Completo">
        <input type="text" id="cpf" placeholder="CPF (Somente números)">
        <input type="password" id="pass" placeholder="Senha">
        <button onclick="cadastrar()">FINALIZAR</button>
    </div>
    <script>
        const firebaseConfig = { apiKey: "AIzaSyBfX7oMSNn4gSL1Knfx-yvwBwkX4H7JjQg", authDomain: "cobrifas.firebaseapp.com", projectId: "cobrifas", storageBucket: "cobrifas.firebasestorage.app", messagingSenderId: "1098617388770", appId: "1:1098617388770:web:8b6124a9ece62c9f81a8bb" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        function cadastrar() {
            const cpf = document.getElementById('cpf').value;
            db.ref('membros').orderByChild('cpf').equalTo(cpf).once('value', s => {
                if(s.exists()) return alert("CPF já cadastrado!");
                db.ref('membros').push({ nome: document.getElementById('nome').value, cpf: cpf, pass: document.getElementById('pass').value, cargo: 'MEMBRO', status: 'ATIVO', avatar: 'https://cdn-icons-png.flaticon.com/512/149/149071.png' })
                .then(() => { alert("Sucesso!"); location.href='login.html'; });
            });
        }
    </script>
</body>
</html>
